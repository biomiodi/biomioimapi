{
  "author": "roman.pidvirnyy",
  "title": "Backend API",

  "api": [
    {
      "title": "Service Provider Configuration Schema",
      "url": "/ServiceProviderConfig",
      "method": "GET",

      "response": [
        {
          "type": "success",
          "code": 200,

          "content": {
            "schemas": [
              "urn:ietf:params:scim:schemas:core:2.0:ServiceProviderConfig"
            ],
            "patch": {
              "supported": false
            },
            "changePassword": {
              "supported": false
            },
            "filter": {
              "supported": false
            },
            "bulk": {
              "supported": false
            },
            "sort": {
              "supported": false
            },
            "etag": {
              "supported": false
            },

            "meta": {
              "created": "2017-01-17T08:07:47.822879",
              "lastModified": "2017-01-17T08:07:47.822886",
              "version": "v1.0",
              "resourceType": "ServiceProviderConfig",
              "location": "/ServiceProviderConfig"
            }
          }
        }

      ]
    },

    {
      "title": "ResourceType Schema List",
      "url": "/ResourceTypes",
      "method": "GET",

      "response": [
        {
          "type": "success",
          "code": 200,

          "content": [
            {
              "schemas": [
                "urn:ietf:params:scim:schemas:core:2.0:ResourceType"
              ],
              "id": "BiomioResource",
              "name": "BiomioResource",
              "endpoint": "/BiomioResource",
              "schema": "urn:ietf:params:scim:schemas:core:2.0:BiomioResource",
              "meta": {
                "resourceType": "ResourceType",
                "location": "http://127.0.0.1:8000/ResourceTypes/BiomioResource"
              }
            },
            {
              "schemas": [
                "urn:ietf:params:scim:schemas:core:2.0:ResourceType"
              ],
              "id": "User",
              "name": "User",
              "endpoint": "/User",
              "schema": "urn:ietf:params:scim:schemas:core:2.0:User",
              "meta": {
                "resourceType": "ResourceType",
                "location": "http://127.0.0.1:8000/ResourceTypes/User"
              }
            }
          ]
        }
      ]
    },

    {
      "title": "ResourceType Schema Detail",
      "url": "/ResourceTypes/{resource_type}",
      "method": "GET",

      "response": [
        {
          "type": "success",
          "code": 200,

          "content": {
            "schemas": [
              "urn:ietf:params:scim:schemas:core:2.0:ResourceType"
            ],
            "id": "User",
            "name": "User",
            "endpoint": "/User",
            "schema": "urn:ietf:params:scim:schemas:core:2.0:User",
            "meta": {
              "resourceType": "ResourceType",
              "location": "/ResourceTypes/User"
            }
          }
        },

        {
          "type": "error",
          "code": 404,

          "content": {
            "errors": "Wrong Resource Type ID"
          }
        }
      ]
    },

    {
      "title": "Schema Definition List",
      "url": "/Schemas",
      "method": "GET",

      "response": [
        {
          "type": "success",
          "code": 200,

          "content": [
            {
              "id": "urn:ietf:params:scim:schemas:core:2.0:BiomioResource",
              "name": "BiomioResource",
              "attributes": [
                {
                  "type": "integer",
                  "name": "id",
                  "multiValued": false,
                  "required": false,
                  "mutability": "readOnly",
                  "returned": "always",
                  "uniqueness": null
                },
                {
                  "type": "integer",
                  "name": "providerId",
                  "multiValued": false,
                  "required": true,
                  "mutability": "readWrite",
                  "returned": "always",
                  "uniqueness": null
                },
                {
                  "type": "string",
                  "name": "name",
                  "multiValued": false,
                  "required": true,
                  "mutability": "readWrite",
                  "returned": "always",
                  "uniqueness": null
                },
                {
                  "type": "string",
                  "name": "domain",
                  "multiValued": false,
                  "required": true,
                  "mutability": "readWrite",
                  "returned": "always",
                  "uniqueness": null
                },
                {
                  "type": "complex",
                  "name": "meta",
                  "multiValued": false,
                  "required": false,
                  "mutability": "readOnly",
                  "returned": "always",
                  "uniqueness": null,
                  "subAttributes": [
                    {
                      "type": "dateTime",
                      "name": "created",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readOnly",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "dateTime",
                      "name": "lastModified",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readOnly",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "complex",
                      "name": "location",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readOnly",
                      "returned": "always",
                      "uniqueness": null
                    }
                  ]
                },
                {
                  "type": "complex",
                  "name": "users",
                  "multiValued": true,
                  "required": true,
                  "mutability": "readWrite",
                  "returned": "always",
                  "uniqueness": null,
                  "subAttributes": [
                    {
                      "type": "integer",
                      "name": "id",
                      "multiValued": false,
                      "required": true,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "string",
                      "name": "externalId",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "string",
                      "name": "userName",
                      "multiValued": false,
                      "required": true,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    }
                  ]
                }
              ],
              "meta": {
                "resourceType": "Schema",
                "location": "/Schemas/urn:ietf:params:scim:schemas:core:2.0:BiomioResource"
              }
            },
            {
              "id": "urn:ietf:params:scim:schemas:core:2.0:User",
              "name": "User",
              "attributes": [
                {
                  "type": "integer",
                  "name": "id",
                  "multiValued": false,
                  "required": false,
                  "mutability": "readOnly",
                  "returned": "always",
                  "uniqueness": null
                },
                {
                  "type": "string",
                  "name": "externalId",
                  "multiValued": false,
                  "required": false,
                  "mutability": "readWrite",
                  "returned": "always",
                  "uniqueness": null
                },
                {
                  "type": "string",
                  "name": "userName",
                  "multiValued": false,
                  "required": true,
                  "mutability": "readWrite",
                  "returned": "always",
                  "uniqueness": null
                },
                {
                  "type": "complex",
                  "name": "meta",
                  "multiValued": false,
                  "required": false,
                  "mutability": "readOnly",
                  "returned": "always",
                  "uniqueness": null,
                  "subAttributes": [
                    {
                      "type": "dateTime",
                      "name": "created",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readOnly",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "dateTime",
                      "name": "lastModified",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readOnly",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "complex",
                      "name": "location",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readOnly",
                      "returned": "always",
                      "uniqueness": null
                    }
                  ]
                },
                {
                  "type": "complex",
                  "name": "name",
                  "multiValued": false,
                  "required": false,
                  "mutability": "readWrite",
                  "returned": "always",
                  "uniqueness": null,
                  "subAttributes": [
                    {
                      "type": "string",
                      "name": "familyName",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "string",
                      "name": "givenName",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "string",
                      "name": "middleName",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "string",
                      "name": "honorificPrefix",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "string",
                      "name": "honorificSuffix",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "string",
                      "name": "formatted",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    }
                  ]
                },
                {
                  "type": "complex",
                  "name": "emails",
                  "multiValued": true,
                  "required": false,
                  "mutability": "readWrite",
                  "returned": "always",
                  "uniqueness": null,
                  "subAttributes": [
                    {
                      "type": "complex",
                      "name": "value",
                      "multiValued": false,
                      "required": true,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "boolean",
                      "name": "primary",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    }
                  ]
                },
                {
                  "type": "complex",
                  "name": "phoneNumbers",
                  "multiValued": true,
                  "required": false,
                  "mutability": "readWrite",
                  "returned": "always",
                  "uniqueness": null,
                  "subAttributes": [
                    {
                      "type": "string",
                      "name": "value",
                      "multiValued": false,
                      "required": true,
                      "mutability": "readWrite",
                      "returned": "always",
                      "uniqueness": null
                    }
                  ]
                },
                {
                  "type": "complex",
                  "name": "resources",
                  "multiValued": true,
                  "required": false,
                  "mutability": "readOnly",
                  "returned": "always",
                  "uniqueness": null,
                  "subAttributes": [
                    {
                      "type": "integer",
                      "name": "id",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readOnly",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "string",
                      "name": "name",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readOnly",
                      "returned": "always",
                      "uniqueness": null
                    },
                    {
                      "type": "string",
                      "name": "domain",
                      "multiValued": false,
                      "required": false,
                      "mutability": "readOnly",
                      "returned": "always",
                      "uniqueness": null
                    }
                  ]
                }
              ],
              "meta": {
                "resourceType": "Schema",
                "location": "/Schemas/urn:ietf:params:scim:schemas:core:2.0:User"
              }
            }
          ]
        }
      ]
    },

    {
      "title": "Schema Definition Detail",
      "url": "/Schemas/{schema}",
      "method": "GET",

      "response": [
        {
          "type": "success",
          "code": 200,

          "content": {
            "id": "urn:ietf:params:scim:schemas:core:2.0:User",
            "name": "User",
            "attributes": [
              {
                "type": "integer",
                "name": "id",
                "multiValued": false,
                "required": false,
                "mutability": "readOnly",
                "returned": "always",
                "uniqueness": null
              },
              {
                "type": "string",
                "name": "externalId",
                "multiValued": false,
                "required": false,
                "mutability": "readWrite",
                "returned": "always",
                "uniqueness": null
              },
              {
                "type": "string",
                "name": "userName",
                "multiValued": false,
                "required": true,
                "mutability": "readWrite",
                "returned": "always",
                "uniqueness": null
              },
              {
                "type": "complex",
                "name": "meta",
                "multiValued": false,
                "required": false,
                "mutability": "readOnly",
                "returned": "always",
                "uniqueness": null,
                "subAttributes": [
                  {
                    "type": "dateTime",
                    "name": "created",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readOnly",
                    "returned": "always",
                    "uniqueness": null
                  },
                  {
                    "type": "dateTime",
                    "name": "lastModified",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readOnly",
                    "returned": "always",
                    "uniqueness": null
                  },
                  {
                    "type": "complex",
                    "name": "location",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readOnly",
                    "returned": "always",
                    "uniqueness": null
                  }
                ]
              },
              {
                "type": "complex",
                "name": "name",
                "multiValued": false,
                "required": false,
                "mutability": "readWrite",
                "returned": "always",
                "uniqueness": null,
                "subAttributes": [
                  {
                    "type": "string",
                    "name": "familyName",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readWrite",
                    "returned": "always",
                    "uniqueness": null
                  },
                  {
                    "type": "string",
                    "name": "givenName",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readWrite",
                    "returned": "always",
                    "uniqueness": null
                  },
                  {
                    "type": "string",
                    "name": "middleName",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readWrite",
                    "returned": "always",
                    "uniqueness": null
                  },
                  {
                    "type": "string",
                    "name": "honorificPrefix",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readWrite",
                    "returned": "always",
                    "uniqueness": null
                  },
                  {
                    "type": "string",
                    "name": "honorificSuffix",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readWrite",
                    "returned": "always",
                    "uniqueness": null
                  },
                  {
                    "type": "string",
                    "name": "formatted",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readWrite",
                    "returned": "always",
                    "uniqueness": null
                  }
                ]
              },
              {
                "type": "complex",
                "name": "emails",
                "multiValued": true,
                "required": false,
                "mutability": "readWrite",
                "returned": "always",
                "uniqueness": null,
                "subAttributes": [
                  {
                    "type": "complex",
                    "name": "value",
                    "multiValued": false,
                    "required": true,
                    "mutability": "readWrite",
                    "returned": "always",
                    "uniqueness": null
                  },
                  {
                    "type": "boolean",
                    "name": "primary",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readWrite",
                    "returned": "always",
                    "uniqueness": null
                  }
                ]
              },
              {
                "type": "complex",
                "name": "phoneNumbers",
                "multiValued": true,
                "required": false,
                "mutability": "readWrite",
                "returned": "always",
                "uniqueness": null,
                "subAttributes": [
                  {
                    "type": "string",
                    "name": "value",
                    "multiValued": false,
                    "required": true,
                    "mutability": "readWrite",
                    "returned": "always",
                    "uniqueness": null
                  }
                ]
              },
              {
                "type": "complex",
                "name": "resources",
                "multiValued": true,
                "required": false,
                "mutability": "readOnly",
                "returned": "always",
                "uniqueness": null,
                "subAttributes": [
                  {
                    "type": "integer",
                    "name": "id",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readOnly",
                    "returned": "always",
                    "uniqueness": null
                  },
                  {
                    "type": "string",
                    "name": "name",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readOnly",
                    "returned": "always",
                    "uniqueness": null
                  },
                  {
                    "type": "string",
                    "name": "domain",
                    "multiValued": false,
                    "required": false,
                    "mutability": "readOnly",
                    "returned": "always",
                    "uniqueness": null
                  }
                ]
              }
            ],
            "meta": {
              "resourceType": "Schema",
              "location": "/Schemas/urn:ietf:params:scim:schemas:core:2.0:User"
            }
          }
        },

        {
          "type": "error",
          "code": 404,

          "content": {
            "errors": "Wrong Schema ID"
          }
        }
      ]
    },

    {
      "title": "Users List",
      "url": "/providers/{provider_id}/Users",
      "method": "GET",

      "response": [
        {
          "type": "success",
          "code": 200,

          "content": [
            {
              "schemas": [
                "urn:ietf:params:scim:schemas:core:2.0:User"
              ],
              "id": 95,
              "externalId": null,
              "userName": "rj.h.d.s.y@gmail.com",
              "meta": {
                "created": "2016-02-23T15:17:04",
                "lastModified": "2016-07-06T14:18:03",
                "location": "/Users/95"
              },
              "name": {
                "familyName": "Test",
                "givenName": "Test",
                "middleName": null,
                "honorificPrefix": null,
                "honorificSuffix": null,
                "formatted": null
              },
              "emails": [
                {
                  "value": "rj.h.d.s.y@gmail.com",
                  "primary": true
                }
              ],
              "phoneNumbers": null,
              "resources": [
                {
                  "id": 16,
                  "name": "web site biomio",
                  "domain": "biom.com"
                },
                {
                  "id": 18,
                  "name": "web site biomio",
                  "domain": "biom.com"
                }
              ]
            },
            {
              "schemas": [
                "urn:ietf:params:scim:schemas:core:2.0:User"
              ],
              "id": 97,
              "externalId": null,
              "userName": "r.j.h.d.s.y+1@gmail.com",
              "meta": {
                "created": "2016-02-23T15:17:49",
                "lastModified": "2016-07-06T14:18:05",
                "location": "/Users/97"
              },
              "name": {
                "familyName": "Test",
                "givenName": "Test",
                "middleName": null,
                "honorificPrefix": null,
                "honorificSuffix": null,
                "formatted": null
              },
              "emails": [
                {
                  "value": "r.j.h.d.s.y+1@gmail.com",
                  "primary": true
                }
              ],
              "phoneNumbers": null,
              "resources": [
                {
                  "id": 16,
                  "name": "web site biomio",
                  "domain": "biom.com"
                },
                {
                  "id": 18,
                  "name": "web site biomio",
                  "domain": "biom.com"
                }
              ]
            }
          ]
        },

        {
          "type": "error",
          "code": 404,

          "content": {
            "errors": "Wrong Provider ID"
          }
        }

      ]
    },

    {
      "title": "Users List",
      "url": "/providers/{provider_id}/Users",
      "method": "POST",

      "data": {
        "externalId": "1",
        "userName": "john.done@gmail.com",

        "name": {
            "familyName": "Done",
            "givenName": "",
            "middleName": "John",
            "formatted": "John Done",
            "honorificPrefix": "",
            "honorificSuffix": ""
        },
        "emails": [
            {
                "value": "john.done@gmail.com",
                "primary": true
            },
            {
                "value": "john.done.other@gmail.com",
                "primary": false
            }
        ],
        "phoneNumbers": [
            {
                "value": "+12025550161"
            }
        ]
      },

      "response": [
        {
          "type": "success",
          "code": 201,

          "content": {
            "schemas": [
              "urn:ietf:params:scim:schemas:core:2.0:User"
            ],
            "id": 490,
            "externalId": "1",
            "userName": "john.done@gmail.com",
            "meta": {
              "created": "2017-01-17T09:07:36",
              "lastModified": "2017-01-17T09:07:36",
              "location": "/Users/490"
            },
            "name": {
              "familyName": "Done",
              "givenName": "",
              "middleName": "John",
              "honorificPrefix": "",
              "honorificSuffix": "",
              "formatted": "John Done"
            },
            "emails": [
              {
                "value": "john.done@gmail.com",
                "primary": true
              },
              {
                "value": "john.done.other@gmail.com",
                "primary": false
              }
            ],
            "phoneNumbers": [
              {
                "value": "+12025550161"
              }
            ],
            "resources": []
          }
        },

        {
          "type": "error",
          "code": 404,

          "content": {
            "errors": "Wrong Provider ID"
          }
        },

        {
          "type": "error",
          "code": 400,

          "content": {
            "userName": [
              "A user with that username already exists."
            ],
            "emails": [
              {
                "value": [
                  "Enter a valid email address."
                ]
              },
              {}
            ]
          }
        }

      ]
    }
  ]
}